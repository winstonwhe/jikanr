
<!-- README.md is generated from README.Rmd. Please edit that file -->

# jikanr

<!-- badges: start -->

[![lifecycle](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
<!-- badges: end -->

## Overview

jikanr is a R wrapper for the jikan API, an unofficial API for
MyAnimeList.

## Installation

To get a bug fix or to use a feature from the development version, you
can install the development version of jikan from GitHub.

``` r
# install.packages("devtools")
devtools::install_github("winstonwhe/jikanr")
```

## Usage

``` r
# Installing the jikanr library
devtools::install_github("winstonwhe/jikanr")
# loading in the jikanr library
library(jikanr)
```

### `info_*` queries the MAL API for specific items

The all-purpose function `info_general` allows the user to query data
from the [jikan](https://jikan.moe), the unofficial MyAnimeList (MAL)
API. As a MAL search item can take on the category of manga, anime,
character, or person, `info_manga`, `info_anime`, `info_character`, and
`info_people` are available aliases respectively.

### seeing it in action

As it can be difficult to remember the full title of a specific item,
jikanr relies on the user answering a prompt in order to query the data.
For example:

``` r
info_anime('Made in Abyss')
```

    Which /anime/ do you want to choose? 
    
     1: Made_in_Abyss
     2: Made_in_Abyss_2
     3: Made_in_Abyss_Movie_3__Fukaki_Tamashii_no_Reimei
     4: Made_in_Abyss_Movie_1__Tabidachi_no_Yoake
     5: Made_in_Abyss_Movie_2__Hourou_Suru_Tasogare
     6: Tales_of_the_Abyss
     7: Devilman__Crybaby
     8: Magi__The_Labyrinth_of_Magic
     9: Fate_stay_night__Unlimited_Blade_Works
    10: Fate_stay_night__Unlimited_Blade_Works_2nd_Season
    
    Selection: 1

|                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| :--------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| request\_hash          | request:anime:6dc2958e458d5ba824d30bc2c0dc652a26a9eace                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| request\_cached        | TRUE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| request\_cache\_expiry | \-1591667309                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| mal\_id                | 34599                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| url                    | <https://myanimelist.net/anime/34599/Made_in_Abyss>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| image\_url             | <https://cdn.myanimelist.net/images/anime/6/86733.jpg>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| trailer\_url           | <https://www.youtube.com/embed/AQbaZeby2zA?enablejsapi=1&wmode=opaque&autoplay=1>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| title                  | Made in Abyss                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| title\_english         | Made in Abyss                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| title\_japanese        | メイドインアビス                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| type                   | TV                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| source                 | Web manga                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| episodes               | 13                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| status                 | Finished Airing                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| airing                 | FALSE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| aired.from             | 2017-07-07T00:00:00+00:00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| aired.to               | 2017-09-29T00:00:00+00:00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| aired.prop.from.day    | 7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| aired.prop.from.month  | 7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| aired.prop.from.year   | 2017                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| aired.prop.to.day      | 29                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| aired.prop.to.month    | 9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| aired.prop.to.year     | 2017                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| aired.string           | Jul 7, 2017 to Sep 29, 2017                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| duration               | 25 min per ep                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| rating                 | R - 17+ (violence & profanity)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| score                  | 8.81                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| scored\_by             | 345369                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| rank                   | 26                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| popularity             | 97                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| members                | 665022                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| favorites              | 24364                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| synopsis               | The Abyss—a gaping chasm stretching down into the depths of the earth, filled with mysterious creatures and relics from a time long past. How did it come to be? What lies at the bottom? Countless brave individuals, known as Divers, have sought to solve these mysteries of the Abyss, fearlessly descending into its darkest realms. The best and bravest of the Divers, the White Whistles, are hailed as legends by those who remain on the surface. Riko, daughter of the missing White Whistle Lyza the Annihilator, aspires to become like her mother and explore the furthest reaches of the Abyss. However, just a novice Red Whistle herself, she is only permitted to roam its most upper layer. Even so, Riko has a chance encounter with a mysterious robot with the appearance of an ordinary young boy. She comes to name him Reg, and he has no recollection of the events preceding his discovery. Certain that the technology to create Reg must come from deep within the Abyss, the two decide to venture forth into the chasm to recover his memories and see the bottom of the great pit with their own eyes. However, they know not of the harsh reality that is the true existence of the Abyss. \[Written by MAL Rewrite\] |
| premiered              | Summer 2017                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| broadcast              | Fridays at 21:30 (JST)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| opening\_themes        | “Deep in Abyss” by Riko (Miyu Tomita) and Regu (Mariya Ise)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ending\_themes1        | “Deep in Abyss” by Riko (Miyu Tomita) and Regu (Mariya Ise) (ep 1)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ending\_themes2        | “Tabi no Hidarite, Saihate no Migite (旅の左手、最果ての右手)” by Riko (Miyu Tomita) and Regu (Mariya Ise) (eps 2-9)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ending\_themes3        | “Tabi no Hidarite, Saihate no Migite (旅の左手、最果ての右手)” by Riko (Miyu Tomita), Regu (Mariya Ise), and Nanachi (Shiori Izawa) (eps 10-12)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

Note: This table is transposed for display purposes; the actual return
is wide instead of long. Moreover, the data is returned as a R
DataFrame.

### `find_tag` allows provides a prompt to make sure the correct name is used

The MAL website assigns an unique number to each item in its website,
and as a result, jikan requires that distinct value in order to
reference the proper item that you wish to learn more about. Since it’s
very often the case that an user won’t know that number off the top of
her head, jikanr relies on the `find_tag` family of functions to scrap
the MAL website and determine the proper value for the API call. One
benefit of the method on which jikanr relies is that the user can search
for part of the name, and the names returned should be identical to what
the website search bar should display. By this method, the user should
have no issue getting the proper item returned.

### Bulk item searches

For a quick bulk item search, a combination of the `purrr::map` function
should return a list of dataframes including all of the searches. For
example:

``` r
purrr::map(c('Vinland', 'Cowboy'), info_anime)
```

should return a list with information from both the “Vinland Saga” and
“Cowboy Bebop” despite only having part of the animes’ names.

## To-Do List

There are a number of features that need to be built or added in:

1)  additional tagging for tv/movie in anime-related searches
2)  handful of manga searches return API errors
3)  more robust testing for functions

## Getting help

As this is my first API wrapper, I’m sure that there are deficits to
which I’m not cognizant towards; however, this is where feedback comes
in\! If you encounter a clear bug, please file an issue with a minimal
reproducible example on
[GitHub](https://github.com/winstonwhe/jikanr/issues).

-----

Please note that this project is released with a [Contributor Code of
Conduct](CODE_OF_CONDUCT.md). By participating in this project you agree
to abide by its terms.
